<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Adding a Competency - Jaseci Documentation</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Jaseci Official Documentation</li><li class="chapter-item expanded "><a href="../../../LICENSE.html"><strong aria-hidden="true">1.</strong> License</a></li><li class="chapter-item expanded "><a href="../../../CHANGELOG.html"><strong aria-hidden="true">2.</strong> About this Release</a></li><li class="chapter-item expanded "><a href="../../../support/guide/how_to_contribute.html"><strong aria-hidden="true">3.</strong> How to Contribute</a></li><li class="chapter-item expanded "><a href="../../../CONTRIBUTORS.html"><strong aria-hidden="true">4.</strong> Contributors</a></li><li class="chapter-item expanded affix "><li class="part-title">Getting Started</li><li class="chapter-item expanded "><a href="../../../support/guide/getting_started/introduction.html"><strong aria-hidden="true">5.</strong> Introducing Jaseci</a></li><li class="chapter-item expanded "><a href="../../../support/guide/getting_started/installation.html"><strong aria-hidden="true">6.</strong> Installing Jaseci</a></li><li class="chapter-item expanded "><a href="../../../support/guide/getting_started/setting_up_your_editor.html"><strong aria-hidden="true">7.</strong> Setting Up Your Editor</a></li><li class="chapter-item expanded "><a href="../../../support/guide/getting_started/writing_your_first_app.html"><strong aria-hidden="true">8.</strong> Writing Your First App</a></li><li class="chapter-item expanded "><a href="../../../support/guide/getting_started/understanding_jac_programs.html"><strong aria-hidden="true">9.</strong> Understanding JAC Programs</a></li><li class="chapter-item expanded affix "><li class="part-title">The JAC Programming Language Guide</li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/jac_language_overview.html"><strong aria-hidden="true">10.</strong> Language Overview</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/jac_grammar.html"><strong aria-hidden="true">11.</strong> Grammar</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/operators.html"><strong aria-hidden="true">12.</strong> Operators</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/control_flow.html"><strong aria-hidden="true">13.</strong> Control Flow</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/collections.html"><strong aria-hidden="true">14.</strong> Collections</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/nodes.html"><strong aria-hidden="true">15.</strong> Nodes</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/edges.html"><strong aria-hidden="true">16.</strong> Edges</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/graphs.html"><strong aria-hidden="true">17.</strong> Graphs</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/walkers.html"><strong aria-hidden="true">18.</strong> Walkers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/traversing_a_graph.html"><strong aria-hidden="true">18.1.</strong> Traversing a Graph</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/referencing_node_context.html"><strong aria-hidden="true">18.2.</strong> Referencing a Node in Context</a></li></ol></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/passing_arguments.html"><strong aria-hidden="true">19.</strong> Passing Arguments</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/specifying_operating_context.html"><strong aria-hidden="true">20.</strong> Specifying Operating Context</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/actions.html"><strong aria-hidden="true">21.</strong> Actions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/date_actions.html"><strong aria-hidden="true">21.1.</strong> Date Actions</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/file_actions.html"><strong aria-hidden="true">21.2.</strong> File Actions</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/net_actions.html"><strong aria-hidden="true">21.3.</strong> Net Actions</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/rand_actions.html"><strong aria-hidden="true">21.4.</strong> Rand Actions</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/request_actions.html"><strong aria-hidden="true">21.5.</strong> Request Actions</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/standard_actions.html"><strong aria-hidden="true">21.6.</strong> Standard Actions</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/vector_actions.html"><strong aria-hidden="true">21.7.</strong> Vector Actions</a></li><li class="chapter-item expanded "><a href="../../../support/guide/jac_language_guide/jaseci_actions.html"><strong aria-hidden="true">21.8.</strong> Jaseci Actions</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Samples and Tutorials</li><li class="chapter-item expanded "><a href="../../../examples/api_development/index.html"><strong aria-hidden="true">22.</strong> API Development</a></li><li class="chapter-item expanded "><a href="../../../examples/canoniCAI/index.html"><strong aria-hidden="true">23.</strong> CanoniCAI</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../examples/canoniCAI/index.html"><strong aria-hidden="true">23.1.</strong> Installation and Overview</a></li><li class="chapter-item expanded "><a href="../../../examples/canoniCAI/documentation/add_competency.html" class="active"><strong aria-hidden="true">23.2.</strong> Adding a Competency</a></li><li class="chapter-item expanded "><a href="../../../examples/canoniCAI/documentation/add_followup_state.html"><strong aria-hidden="true">23.3.</strong> Adding a Follow up State</a></li><li class="chapter-item expanded "><a href="../../../examples/canoniCAI/documentation/add_remove_data_from_faq_state.html"><strong aria-hidden="true">23.4.</strong> Building FAQ States</a></li><li class="chapter-item expanded "><a href="../../../examples/canoniCAI/documentation/fixing_utterances.html"><strong aria-hidden="true">23.5.</strong> Fixing Utterances</a></li><li class="chapter-item expanded "><a href="../../../examples/canoniCAI/documentation/jaseci_actions_load_local.html"><strong aria-hidden="true">23.6.</strong> Setting Up a Custom Module</a></li></ol></li><li class="chapter-item expanded "><a href="../../../examples/ner_examples/index.html"><strong aria-hidden="true">24.</strong> NER Examples</a></li><li class="chapter-item expanded affix "><li class="part-title">Jaseci Library Reference</li><li class="chapter-item expanded "><a href="../../../jaseci_kit/index.html"><strong aria-hidden="true">25.</strong> Jaseci Kit</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/encoders/index.html"><strong aria-hidden="true">25.1.</strong> Encoders</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/encoders/use_enc/index.html"><strong aria-hidden="true">25.1.1.</strong> USE Encoder</a></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/encoders/use_qa/index.html"><strong aria-hidden="true">25.1.2.</strong> USE QA</a></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/encoders/fast_enc/index.html"><strong aria-hidden="true">25.1.3.</strong> FastText</a></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/encoders/bi_enc/index.html"><strong aria-hidden="true">25.1.4.</strong> Bi-Encoder</a></li></ol></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/entity_utils/index.html"><strong aria-hidden="true">25.2.</strong> Entity Recognition</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/entity_utils/flair_ner/index.html"><strong aria-hidden="true">25.2.1.</strong> FLair NER</a></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/entity_utils/tfm_ner/index.html"><strong aria-hidden="true">25.2.2.</strong> Transformer NER</a></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/entity_utils/lstm_ner/index.html"><strong aria-hidden="true">25.2.3.</strong> LSTM NER</a></li></ol></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/summarization/index.html"><strong aria-hidden="true">25.3.</strong> Text Summarization</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/summarization/cl_summer/index.html"><strong aria-hidden="true">25.3.1.</strong> CL Summarization</a></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/summarization/t5_sum/index.html"><strong aria-hidden="true">25.3.2.</strong> T5 Summarization</a></li></ol></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/text_processing/index.html"><strong aria-hidden="true">25.4.</strong> Text Processing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/text_processing/text_seg/index.html"><strong aria-hidden="true">25.4.1.</strong> Text Segmenter</a></li></ol></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/object_detection/index.html"><strong aria-hidden="true">25.5.</strong> Object Detection</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/object_detection/yolo_v5/index.html"><strong aria-hidden="true">25.5.1.</strong> YOLO V5</a></li></ol></li><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/non_ai/index.html"><strong aria-hidden="true">25.6.</strong> Non-AI Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../jaseci_kit/modules/non_ai/pdf_ext/index.html"><strong aria-hidden="true">25.6.1.</strong> PDF Extractor</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../jaseci_core/index.html"><strong aria-hidden="true">26.</strong> Jaseci Core</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jaseci Documentation</h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="canonicai"><a class="header" href="#canonicai">CanoniCAI</a></h1>
<h5 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h5>
<ul>
<li>
<p><a href="#what-is-a-competency">What is a competency</a></p>
</li>
<li>
<p><a href="#what-are-the-components-to-make-up-a-competency">What are the components to make up a competency</a></p>
</li>
<li>
<p><a href="#step-1-build-the-skeleton-for-your-new-competency">Build the skeleton for your new competency</a></p>
</li>
<li>
<p><a href="#step-2-how-to-write-custom-business-logics-for-canoniCAI">How to write custom business logics for canonicai</a></p>
</li>
<li>
<p><a href="#step-3-how-to-edit-or-create-responses-from-each-state">How to edit or create responses from each state</a></p>
</li>
<li>
<p><a href="#step-4-how-to-test-competency">How to test competency</a></p>
</li>
</ul>
<h1 id="what-is-a-competency"><a class="header" href="#what-is-a-competency">What is a competency</a></h1>
<p>A competency is a specialized piece of an AI model program that comes together to solve a problem.</p>
<h1 id="what-are-the-components-to-make-up-a-competency"><a class="header" href="#what-are-the-components-to-make-up-a-competency">What are the components to make up a competency</a></h1>
<p>They are several components that makes up the competency and they are as follows:</p>
<ul>
<li>
<p>ai model</p>
</li>
<li>
<p>states</p>
</li>
<li>
<p>business logic</p>
</li>
<li>
<p>response</p>
</li>
</ul>
<h1 id="step-1-build-the-skeleton-for-your-new-competency"><a class="header" href="#step-1-build-the-skeleton-for-your-new-competency">Step 1: Build the skeleton for your new competency</a></h1>
<p>This step involves the following jac files:</p>
<ul>
<li>
<p>fixtures.jac</p>
</li>
<li>
<p>nodes.jac</p>
</li>
<li>
<p>globals.jac</p>
</li>
</ul>
<p>Navigate to <code>fixtures.jac</code> file, we will be adding states to the graph.</p>
<p></p>
<p>We will be creating a state called <strong>check_order</strong> for demo purposes, this will be an extension to the KFC bot. The code we will be adding is </p>
<p><code>state_check_order = spawn node::state(name=&quot;check_order&quot;);</code> into the file. What this does it spawns a node to the graph.</p>
<pre><code>
graph conv_graph {

    has anchor conv_root;

       spawn {

        state_check_order = spawn node::state(name=&quot;check_order&quot;);    

       }

</code></pre>
<p></p>
<p>Next, we will be adding this state to the global state. What this does is allow us to connect other states to this in the future, incase if we want the conversation to go back to this state anytime in the future. You will have to go to the <code>globals.jac</code> file to make the state global.</p>
<p></p>
<p>Navigate to the <code>globals.jac</code> file and add this to the file </p>
<p>ADD: <code>global check_order_label = &quot;check order&quot;;</code></p>
<pre><code>
global soc_label = &quot;greetings&quot;;

global check_order_label = &quot;check order&quot;; 

global eoc_label = &quot;bye&quot;;

global order_label = &quot;order&quot;;

global yes_label = &quot;confirmation&quot;;

global no_label = &quot;denial&quot;;

</code></pre>
<p>Now we can proceed to the next step. Navigate back to the <code>fixture.jac</code> file</p>
<p></p>
<p>Add: <code>[state_check_order, global.check_order_label]</code></p>
<pre><code>
spawn {

    global_states = [

            [state_check_order, global.check_order_label],

            [state_eoc, global.eoc_label],

            [state_order, global.order_label]

        ];

}

</code></pre>
<p></p>
<p>We will go forward and connect this state to the conversation state, which is the root/main state of the entire application. Because previously we just only created a state but we did not connect it to the root.</p>
<p>ADD: <code>conv_root -[transition(intent_label = global.check_order_label)]-&gt; state_check_order;</code></p>
<pre><code>
 spawn { 

     conv_root -[transition(intent_label = global.check_order_label)]-&gt; state_check_order;

 }

</code></pre>
<h1 id="step-2-how-to-write-custom-business-logics-for-canonicai"><a class="header" href="#step-2-how-to-write-custom-business-logics-for-canonicai">Step 2: How to write custom business logics for canoniCAI</a></h1>
<p></p>
<p>In the <code>nodes.jac</code> file, this is where the business logic and the responses for each states resides.</p>
<p></p>
<p>Navigate to <code>nodes.jac</code> file, we will be editing or adding to existing node abilities from the states</p>
<p>In this section, we will be editing the state node only. </p>
<p>For this example we will be using the <strong>[item]</strong> slot for the business logic and we will use this slot to put into our response for the <strong>check order</strong> state. We will also just add a default item just for this small application, So lets start off adding these:</p>
<p>ADD: <code> visitor.dialogue_context[&quot;item&quot;] =  '3pc chicken combo';</code></p>
<pre><code>
node state {

    can business_logic { 

         if (!visitor.hoping) {

            // here.name is the title of the state so when we hit that state it runs the code

             if (here.name == &quot;check_order&quot;) { 

                 visitor.dialogue_context[&quot;item&quot;] = '3pc chicken combo';

             }

         }

    }

}

</code></pre>
<h1 id="step-3-how-to-edit-or-create-responses-from-each-state"><a class="header" href="#step-3-how-to-edit-or-create-responses-from-each-state">Step 3: How to edit or create responses from each state</a></h1>
<p></p>
<p>In the next section we will focus on creating a response for this competency called <strong>check order</strong>.</p>
<p></p>
<p>Navigate to the node ability <strong>gen_response</strong>, this is where it hosts all the responses for each state and using the existing slot from the application, we will add it to the response. So when we query to the application it will give us this exact response, once it classifies correctly.</p>
<p>ADD: <code>visitor.answer = &quot;In your cart you have ordered &quot; + visitor.dialogue_context[&quot;item&quot;];</code></p>
<pre><code>
    can gen_response {

        if (!visitor.hoping) {

            if (here.name == &quot;check_order&quot;) {

                visitor.answer = visitor.answer = &quot;In your cart you have ordered &quot; + visitor.dialogue_context[&quot;item&quot;];

            }

        }

    }

</code></pre>
<p>This is how you build a simple competency called check order to canonicai. Hope you guys enjoy this section.</p>
<h1 id="step-4-how-to-test-competency"><a class="header" href="#step-4-how-to-test-competency">Step 4: How to test competency</a></h1>
<p>In this section we will be testing the competency to see whether it work or not.</p>
<p>They are genuinely two ways to test this application</p>
<ul>
<li>
<p>writing test in a <code>test.jac</code> file</p>
</li>
<li>
<p>manually test the application through console or frontend</p>
</li>
</ul>
<p>Let's start with testing manually using the console.</p>
<p>The steps are as follows:</p>
<ul>
<li>
<p>run jaseci console: <code>jsctl -m</code></p>
</li>
<li>
<p>load all the actions required: <code>actions load module [module]</code></p>
</li>
<li>
<p>builing the application using:  <code>jac build main.jac</code></p>
</li>
<li>
<p>registering the sentinel: <code>sentinel register -set_active true -mode ir main.jir</code></p>
</li>
<li>
<p>delete any graph if exists: <code>graph delete active:graph</code></p>
</li>
<li>
<p>create the graph: <code>graph create -set_active true</code></p>
</li>
<li>
<p>run init walker: <code>walker run init</code></p>
</li>
<li>
<p>testing the application by running talker: <code>walker run talker -ctx &quot;{\&quot;question\&quot;: \&quot;can you check what I have ordered so far.\&quot;}&quot;</code></p>
</li>
</ul>
<p>Let's continue with the other method of testing which involves writing a test.</p>
<p>First we will have to navigate to the <code>test.jac file</code>.</p>
<p></p>
<p>In this example we will create a simple test that tests the greeting competency and check if it returns a response with the correct user.</p>
<pre><code>
test &quot;test response in greetings&quot;

with graph::empty by walker::init {

    cai_root = *(global.cai_root);

        # Reset user

        spawn cai_root walker::update_user;

        new_dialogue = true;

        

        spawn cai_root walker::talker(

            question=&quot;can you check what I have ordered so far.&quot;,

            start_new_dialogue=new_dialogue

        );

        

        res = std.get_report();

        assert (res[-1][&quot;response&quot;] == &quot;In your cart you have ordered 3pc chicken combo&quot;);

}

</code></pre>
<h1 id="how-to-load-model"><a class="header" href="#how-to-load-model">How to load model</a></h1>
<p>We will load model in canonicai using fast api</p>
<p>First we will explore how to load model through jaseci console in canonicai, We will try to load the bi-encoder model because that is vastly used in the modern AI world.</p>
<p>We have to go to the console and follow the steps below: </p>
<ul>
<li>
<p>run jaseci console: <code>jsctl -m</code></p>
</li>
<li>
<p>load bi-encoder actions: <code>actions load module jaseci_kit.bi_enc</code></p>
</li>
<li></li>
<li>
<p>go to the docs website</p>
</li>
<li>
<p>click <code>/load_model/</code></p>
</li>
<li>
<p>click try it out</p>
</li>
<li>
<p>replace string with the name of model for key model path and click execute</p>
</li>
</ul>
<p>That's how you load a model</p>
<h1 id="how-to-save-model"><a class="header" href="#how-to-save-model">How to save model</a></h1>
<p>We will save model in canonicai using fast api</p>
<p>First we will explore how to save model through jaseci console in canonicai, We will try to load the bi-encoder model because that is vastly used in the modern AI world.</p>
<p>We have to go to the console and follow the steps below: </p>
<ul>
<li>
<p>run jaseci console: <code>jsctl -m</code></p>
</li>
<li>
<p>load bi-encoder actions: <code>actions load module jaseci_kit.bi_enc</code></p>
</li>
<li></li>
<li>
<p>go to the docs website</p>
</li>
<li>
<p>click <code>/save_model/</code></p>
</li>
<li>
<p>click try it out</p>
</li>
<li>
<p>replace string with the name of model for key model path and click execute</p>
</li>
</ul>
<h1 id="how-to-add-or-update-training-data-to-canonicai"><a class="header" href="#how-to-add-or-update-training-data-to-canonicai">How to add or update training data to CanoniCAI</a></h1>
<p>We will be adding training data to bi-encoder model in CanoniCAI</p>
<p>First we have to navigate to <code>/data/clf_train.json</code> if the file does not exist create one.</p>
<p>ADD: <code>&quot;check order&quot;: [&quot;can you check my order&quot;,&quot;can i have a look at my order&quot;]</code></p>
<p><code>NOTE: the key must be the same as in the global label in the globals.jac file. This is what helps the classifier to train.</code></p>
<pre><code>
{

  &quot;check order&quot;: [&quot;can you check my order&quot;,&quot;can i have a look at my order&quot;],

  &quot;hello&quot;: [

    &quot;hi how's your day so far&quot;,

    &quot;how's it going&quot;,

    &quot;how are you&quot;,

    &quot;whats up&quot;,

    &quot;what's going on&quot;,

    &quot;what's good&quot;,

    &quot;how goes it&quot;,

    &quot;i have had a crazy day, how's yours&quot;,

    &quot;what is the latest&quot;,

    &quot;what's up with you&quot;,

    &quot;what is going on with you kev&quot;,

    &quot;how are you doing today man&quot;,

    &quot;good morning&quot;,

    &quot;good day to you!&quot;,

    &quot;what's cracking&quot;,

    &quot;what's popping yall&quot;

  ],

  &quot;goodbye&quot;: [

    &quot;bye bye&quot;,

    &quot;see you later&quot;,

    &quot;see you soon&quot;,

    &quot;talk to you later&quot;,

    &quot;gotta go&quot;,

    &quot;i am off&quot;,

    &quot;take care&quot;,

    &quot;peace out&quot;

  ],

  &quot;order&quot;: [

    &quot;i want a cheeseburder&quot;,

    &quot;I would like to order a burger&quot;,

    &quot;can i have a milkshake&quot;,

    &quot;i need a 3 piece chicken combo&quot;,

    &quot;can i have a family meal&quot;

  ]

}

</code></pre>
<h1 id="how-to-train-models-in-canonicai"><a class="header" href="#how-to-train-models-in-canonicai">How to train models in CanoniCAI</a></h1>
<p>There are two ways to train the bi-encoder model:</p>
<ul>
<li>
<p>walkers</p>
</li>
<li>
<p>fastapi</p>
</li>
</ul>
<p>Next step we have to train the model. Here are the steps as follows:</p>
<ul>
<li>
<p>run jaseci console: <code>jsctl -m</code></p>
</li>
<li>
<p>load bi-encoder actions: <code>actions load module jaseci_kit.bi_enc</code></p>
</li>
<li></li>
<li>
<p>go to the docs website</p>
</li>
<li>
<p>click <code>/train/</code></p>
</li>
<li>
<p>click try it out</p>
</li>
<li>
<p>copy everything in <code>/data/clf_train.json</code></p>
</li>
<li>
<p>paste all the data you copied to the dataset key as shown below</p>
</li>
</ul>
<pre><code>
{

  &quot;dataset&quot;: {

  &quot;goodbye&quot;: [

    &quot;bye bye&quot;,

    &quot;see you later&quot;,

    &quot;see you soon&quot;,

    &quot;talk to you later&quot;,

    &quot;gotta go&quot;,

    &quot;i am off&quot;,

    &quot;take care&quot;,

    &quot;peace out&quot;

  ]

  },

  &quot;from_scratch&quot;: false,

  &quot;training_parameters&quot;: {}

}

</code></pre>
<ul>
<li>change key value of <code>from_scratch</code> to true</li>
</ul>
<pre><code>
{

  &quot;dataset&quot;: {},

  &quot;from_scratch&quot;: true,

  &quot;training_parameters&quot;: {}

}

</code></pre>
<ul>
<li>change key value of <code>training_parameters </code> to suit your needs, example shown below</li>
</ul>
<pre><code>
{

  &quot;dataset&quot;: {},

  &quot;from_scratch&quot;: false,

  &quot;training_parameters&quot;: { &quot;num_train_epochs&quot;: 50 }

}

</code></pre>
<ul>
<li>click execute</li>
</ul>
<p>Thats how you add and train the model using fastapi. How let's move on to how to train the model using walkers from CanoniCAI</p>
<p>The steps to doing this is a follows:</p>
<ul>
<li>
<p>run jaseci console: <code>jsctl -m</code></p>
</li>
<li>
<p>load bi-encoder actions: <code>actions load module jaseci_kit.bi_enc</code></p>
</li>
<li>
<p>builing the application using:  <code>jac build main.jac</code></p>
</li>
<li>
<p>registering the sentinel: <code>sentinel register -set_active true -mode ir main.jir</code></p>
</li>
<li>
<p>delete any graph if exists: <code>graph delete active:graph</code></p>
</li>
<li>
<p>create the graph: <code>graph create -set_active true</code></p>
</li>
<li>
<p>run init walker: <code>walker run init</code></p>
</li>
<li>
<p>run train_biencoder walker: <code>walker run train_biencoder</code></p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../examples/canoniCAI/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../../examples/canoniCAI/documentation/add_followup_state.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../examples/canoniCAI/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../../examples/canoniCAI/documentation/add_followup_state.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
