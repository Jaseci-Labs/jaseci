\chapter{Graphs, Architypes, and Walkers in Jac}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Structure of a Jac Program}

\par [Introduce structure of a jac program] \par
\par [Specify the differnce between graph architypes, graph instantiations, and walkers]\par
\par [Present simple program that utilizes the structures]\par
\par [Present variations on articulating the same program]\par
\par [Code blocks]\par

\begin{nerd}
    Grammar~\ref{gram:jac.g4:3:16} shows the lines from the formal grammar for Jac that presents the high level structure of a Jac program.
    \gramcoderange{jac.g4}{Jac grammar clip relevant to arithmetic}{3}{16}
\end{nerd}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Graphs as First Class Citizens}

%%%%%%%
\par
\jaccode{jac_simple_walker.jac}{Simple walker creating and connected nodes}
\par
\jacdotnw{jac_simple_walker}{.3}{Graph in memory for JC~\ref{jac:jac_simple_walker.jac}}


%%%%%%%
\par
\jaccode{jac_named_node_edge.jac}{Creating named node types}
\par
\jacdotnw{jac_named_node_edge}{.3}{Graph in memory for JC~\ref{jac:jac_named_node_edge.jac}}

%%%%%%%
\par
\jaccode{jac_spawn_connect.jac}{Connecting nodes within spawn statement}
\par
\jacdotnw{jac_spawn_connect}{.3}{Graph in memory for JC~\ref{jac:jac_spawn_connect.jac}}

%%%%%%%
\par
\jaccode{jac_connect_chain.jac}{Chaining node connections using the connect operator}
\par
\jacdotnw{jac_connect_chain}{.3}{Graph in memory for JC~\ref{jac:jac_connect_chain.jac}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Walkers as First Class Citizens}

%%%%%%%
\par
\jaccode{jac_walker_spawn_walker.jac}{Walkers spawning other walkers}
\par
\shellout{jac_walker_spawn_walker.jac.output}
\par
\jacdotnw{jac_walker_spawn_walker}{.3}{Graph in memory for JC~\ref{jac:jac_walker_spawn_walker.jac}}

%%%%%%%
\par
\jaccode{jac_walker_returns.jac}{Getting returned values from spawned walkers}
\par
\shellout{jac_walker_returns.jac.output}
\par
\jacdotnw{jac_walker_returns}{.3}{Graph in memory for JC~\ref{jac:jac_walker_returns.jac}}
\par
\jaccode{jac_walker_returns_alt.jac}{Increasing elegance by remembering spawns are expressions}

%%%%%%%
Walkers are entry points to all valid jac programs
\par


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Architypes and Actions}

%%%%%%%
\par
\jaccode{jac_contexts.jac}{Binding member contexts to nodes and edges
}
\par
\shellout{jac_contexts.jac.output}
\par
\jacdotnw{jac_contexts}{.3}{Graph in memory for JC~\ref{jac:jac_contexts.jac}}

%%%%%%%
\par
\jaccode{jac_contexts_alt.jac}{Binding contexts with less code
}
\par
\shellout{jac_contexts_alt.jac.output}

%%%%%%%
\par
\jaccode{jac_copy_assign.jac}{Copy assigning from node to node
}
\par
\shellout{jac_copy_assign.jac.output}
\par
\jacdotnw{jac_copy_assign}{.5}{Graph in memory for JC~\ref{jac:jac_copy_assign.jac}}

%%%%%%%
\par
\jacdotnw{jac_action}{.3}{Graph in memory for JC~\ref{jac:jac_action.jac} and~\ref{jac:jac_node_action.jac}}
\par
\jaccode{jac_action.jac}{Basic action in walker
}
\par
\shellout{jac_action.jac.output}
\par
\jaccode{jac_node_action.jac}{Basic action in node
}

%%%%%%%
\par
\jaccode{jac_preset_action.jac}{Basic action with presets and event triggers
}
\par
\shellout{jac_preset_action.jac.output}
\par
\jaccode{jac_node_act_note.jac}{Basic action with presets and event triggers
}
\par [Only nodes can have with entry/exit`' and presets]
\par [can leave output (push returns) in node and walker]

%%%%%%%
\par
\jaccode{jac_local_action.jac}{Specifying your own actions
}
\par
\shellout{jac_preset_action.jac.output}
%%%%%%%
\par
\jaccode{jac_local_wlk_action.jac}{Walkers can have actions, and calling own actions
}
\par [here and visitor should be present everywhere]
\par [here should point to wherever the walker is on at all times]
\par [directly accessing variables in a nodes ability will not necesarily map to here]